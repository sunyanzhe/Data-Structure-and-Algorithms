# 非对称加密
密钥分为公钥、私钥。通过公钥加密过的数据可以通过私钥来解密；同理通过私钥加密过的数据可以通过公钥来解密

# 数字证书
数字证书认证机构： CA
服务端运营人员向数字证书认证机构提出证书认证请求，数字证书认证机构判明申请者的身份之后，会对已申请的公钥作为数字签名，然后分配这个以签名的公钥，并将该公开密钥放入证书后并定在一起。服务器将这份有数字证书机构的公钥发给客户端，以进行公钥加密方式通信

## 证书信任方式
每个操作系统和大多数浏览器都会内置一个知名证书颁发机构的名单，因此，你也会信任操作系统及浏览器提供商提供和维护的可信任机构

受信认证机构的证书一般会被操作系统或者浏览器在发行或发布时内置

# 验证数据完整性
报文的发送方，会把报文通过加密套件中的哈希摘要算法生成一个哈希摘要。
在使用自己的私钥将哈希摘要进行加密生成数字签名。数字签名会随着报文一同发送给接收方
接收方在接到报文后，同样也会使用哈希摘要算法将报文生成一个哈希摘要。
再将数字签名通过公钥解密，生成另一个哈希摘要
将两份哈希摘要进行对比，如果相同那么说明报文没有被修改过

常用的哈希摘要算法有SHA_256、SHA_384

# RSA握手
1. 客户端向服务端发送 client_random随机数 + TLS版本 + 支持的加密套件列表

2. 服务端收到后，确认TLS版本，并向客户端发送， server_random随机数 + 加密套件 + 数字证书

3. 客户端校验证书通过后，使用RSA算法生成pre_random，并且使用证书中的公钥对pre_random进行加密，最后将加密后的pre_random发送给服务端

4. 服务端使用私钥对pre_random进行解密。客户端和服务端使用三个随机数和约定好的加密算法生成密钥，开始加密通信


# DH握手

1. 客户端向服务端发送 client_random随机数 + TLS版本 + 支持的加密套件列表

2. 服务端向和客户端发送 server_random随机数 + 加密套件 + 数字证书 + DH_server_param

3. 客户端校验证书通过，向服务端发送DH_client_param

4. 双方使用ECDHE(椭圆曲线离散对数)算法，使用server_param和client_param生成pre_random